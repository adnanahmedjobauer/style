document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll('img[loading="lazy"]'),t=(e,t)=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.src=t.dataset.src,t.onload=()=>t.classList.add("loaded"),t.removeAttribute("loading"),t.observer.unobserve(t)}})},o=new IntersectionObserver(t,{root:null,rootMargin:"500px",threshold:.1});e.forEach(e=>o.observe(e));const r=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&"IMG"===e.tagName&&"lazy"===e.getAttribute("loading")&&o.observe(e)})})});r.observe(document.body,{childList:!0,subtree:!0});const n=(e,t)=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;t.style.backgroundImage=`url(${t.dataset.src})`,t.unobserve(t)}})},c=new IntersectionObserver(n,{root:null,rootMargin:"300px",threshold:.1});document.querySelectorAll(".ajustedBackground").forEach(e=>c.observe(e))});